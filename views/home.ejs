<!DOCTYPE html>
<html lang="en">
<head>
    <%- include("./partials/head.ejs") %>
    <title>Blogify</title>
</head>
<body>
    <%- include("./partials/nav.ejs") %>

    <main class="page-wrap home-shell">
        <section class="surface-card home-hero">
            <h1 class="hero-title">Read sharp stories from curious builders.</h1>
            <p class="hero-subtitle">
                Fresh ideas on coding, design, and growth from the Blogify community.
            </p>
            <div class="hero-tools">
                <input class="hero-search" type="text" placeholder="Search posts (coming soon)" disabled>
                <span class="hero-chip">Latest</span>
                <span class="hero-chip">Technology</span>
                <span class="hero-chip">Career</span>
            </div>
        </section>

        <% if (blogs && blogs.length > 0) { %>
            <section class="blog-grid">
                <% blogs.forEach((blog) => { %>
                    <article class="blog-grid-item">
                        <div class="surface-card blog-card">
                            <img
                                class="blog-card-cover"
                                src="<%= blog.coverImageURL ? blog.coverImageURL : '/images/default.png' %>"
                                alt="<%= blog.title %>"
                            >
                            <div class="blog-card-body">
                                <h2 class="blog-card-title"><%= blog.title %></h2>
                                <p class="blog-meta">
                                    <%= new Date(blog.createdAt).toLocaleDateString() %> â€¢ 3 min read
                                </p>
                                <a href="/blog/<%= blog._id %>" class="btn btn-sm btn-primary pill-btn">Read Post</a>
                            </div>
                        </div>
                    </article>
                <% }) %>
            </section>
        <% } else { %>
            <section class="surface-card empty-state">
                <h2>No posts yet</h2>
                <p>Start publishing to fill this feed with your latest writing.</p>
                <% if (locals.user) { %>
                    <a href="/blog/add-new" class="btn btn-primary pill-btn">Create First Blog</a>
                <% } else { %>
                    <a href="/user/signin" class="btn btn-primary pill-btn">Signin to Publish</a>
                <% } %>
            </section>
        <% } %>
    </main>

    <%- include("./partials/scripts.ejs") %>
</body>
</html>
